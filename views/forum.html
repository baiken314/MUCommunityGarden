<!DOCTYPE html>
<html>
<head>
    <title>Message Board | MU Community Garden</title>
    <link rel="stylesheet" href="css/GardenStyle.css">
	<link rel="stylesheet" href="css/w3.css">
    <script src="/socket.io/socket.io.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
</head>
<body>
    <div id="cloud-container" style="height:100%;">
        <div class="w3-top">
            <div class="w3-bar w3-mobile" style="background-color:#69B3E7">
                <img src="public\logo.png" class="w3-bar-item" style="height:65px;">
                <div style="width:80%; margin:auto; padding:10px;">
                    <b>
                        <a href="/announcements" style="font-size:20px" class="w3-bar-item w3-button">Announcements</a>
                        <a href="/forum" style="font-size:20px" class="w3-bar-item w3-button">Message Board</a>
                        <a href="/volunteer" style="font-size:20px" class="w3-bar-item w3-button">Volunteer Log</a>
                        <a href="/logout" style="font-size:20px" class="w3-bar-item w3-button w3-right">Logout</a>
                        <a href="/userpage" style="font-size:20px" class="w3-bar-item w3-button w3-right w3-blue">My User</a>
                    </b>
                </div>
            </div>
        </div>
        <br>
        <br>
        <br>
        <div style="width:60%; margin:auto; padding:20px;">
            <div id="data-app" class="custom-format">
                <h1 class="custom-format-header">Message Board</h1>
                <a v-bind:href="`/makePost`">
                    <button type="button" class="w3-light-blue w3-right w3-round w3-hover-dark-gray w3-padding">Make a Post</button>
                </a>
                &nbsp;
                <div class="custom-format-container">
                    <div v-for="post in posts.filter(post => post.parent == null || post.parent == undefined)" class="custom-format-container">
                        <h4 class="custom-format-header" style="text-align:left"><a v-bind:href="`/post/view/${ post._id }`">{{ post.title }}</a></h4>
                        <div class="custom-format-container">
                            <div class="post-info">
                                Created by: {{ user.name }} on {{ post.date.toLocaleString() }}
                            </div>
                            <div class="post">
                                {{ post.content }}
                            </div>
                            <div v-if="post.comments" class="viewbutton">
                                <a v-bind:href="`/post/view/${ post._id }`">
                                    <button class ="w3-button w3-white w3-border w3-round w3-border-blue" type="button">VIEW {{ post.comments.length }} COMMENTS</button>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="scripts/dataApp.js"></script>
</body>
</html>